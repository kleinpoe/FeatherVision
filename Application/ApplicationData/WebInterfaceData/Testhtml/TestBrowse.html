<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css" /> 
	<link rel="stylesheet" href="checkboxStyle.css" /> 
	<link rel="stylesheet" href="videoBrowserStyle.css" /> 
	<script src="jquery-3.7.1.min.js"></script>
</head>
<body>
	<div class="wrapper">
	  <div class="header">
		<div class="headerItem clickable" onclick="location.href='Test.html';">📷</div>
		<div class="headerItem clickable" onclick="location.href='TestBrowse.html';">📂</div>
	  </div>
	  <div class="contentContainer" style="overflow-y:auto;">
			<div class="videoListEntry" id="entry1">
				<div class="thumbnailContainer">
					<a href="video.html"><img class="thumbnail" src="thumbnail.jpg"/></a>
				</div>
				<input type="checkbox" class="videoListEntrySelection" id="checkboxEntry1"/>
				<div class="videoListEntryTextContainer">
					<p>14:00 3.0s</p>
				</div>
			</div>
			<div class="videoListEntry" id="entry2">
				<div class="thumbnailContainer">
					<a href="video.html"><img class="thumbnail" src="thumbnail.jpg"/></a>
				</div>
				<input type="checkbox" class="videoListEntrySelection" id="checkboxEntry2"/>
				<div class="videoListEntryTextContainer">
					<p>14:00 3.0s</p>
				</div>
			</div>
			<div class="videoListEntry" id="entry3">
				<div class="thumbnailContainer">
					<a href="video.html"><img class="thumbnail" src="thumbnail.jpg"/></a>
				</div>
				<input type="checkbox" class="videoListEntrySelection" id="checkboxEntry3"/>
				<div class="videoListEntryTextContainer">
					<p>14:00 3.0s</p>
				</div>
			</div>
			<div class="videoListEntry" id="entry4">
				<div class="thumbnailContainer">
					<a href="video.html"><img class="thumbnail" src="thumbnail.jpg"/></a>
				</div>
				<input type="checkbox" class="videoListEntrySelection" id="checkboxEntry4"/>
				<div class="videoListEntryTextContainer">
					<p>14:00 3.0s</p>
				</div>
			</div>
	  </div>
	  <div class="footer">
		<div class="footerItem clickable" id="footerLeft">⬅️</div>
		<div class="footerItem clickable" id="footerTrash" style="display:none;">🗑️</div>
		<div class="footerItem rotatingItem" id="footerDate">23.3.2024</div>
		<div class="footerItem clickable" id="footerEndSelection" style="display:none;">↩️</div>
		<div class="footerItem clickable" id="footerRight">➡️</div>
	  </div>
	</div>
	<script>
	window.onload = function()
	{
		var selectionIsActive = false;
		var selectedEntries = [];
		var videoEntries = $(".videoListEntry");
		var leftButton = $("#footerLeft");
		var rightButton = $("#footerRight");
		var endSelectionButton = $("#footerEndSelection");
		var trashButton = $("#footerTrash");
		var startSelection = () =>
		{
			selectionIsActive = true;
			leftButton.hide();
			rightButton.hide();
			endSelectionButton.show();
			trashButton.show();
		}
		var endSelection = () =>
		{
			selectionIsActive = false;
			selectedEntries.forEach( element => 
			{element.prop('checked',false);} );
			selectedEntries = [];
			leftButton.show();
			rightButton.show();
			endSelectionButton.hide();
			trashButton.hide();
		}
		var checkBoxes = videoEntries.children('input:checkbox');
		checkBoxes.on('change', event =>
		{
			let checkBox = $(event.target);
			let isChecked = checkBox.prop('checked');
			if(isChecked)
			{
				if(selectedEntries.length == 0)
				{
					startSelection();
				}
				selectedEntries.push(checkBox);
			}
			else
			{
				selectedEntries = selectedEntries.filter( cb => cb.attr('id') != checkBox.attr('id') )
				if(selectedEntries.length == 0)
				{
					endSelection();
				}
			}
		});
		endSelectionButton.on('click', () => endSelection() );
		trashButton.on('click', x => alert('Do you want to delete ' + selectedEntries.length + ' clips?'));
		
	}
	</script>
</body>
</html>